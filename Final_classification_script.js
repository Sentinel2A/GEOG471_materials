//Skip to line 954 for codes
/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var Sentinel1 = ee.ImageCollection("COPERNICUS/S1_GRD"),
    Study_area = ee.FeatureCollection("users/choodavi608/Amazon_StudyArea_Rough"),
    histRegion = 
    /* color: #d63000 */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[-53.81346554313284, -3.6128067028142095],
          [-53.81346554313284, -3.62120135517204],
          [-53.80359501395804, -3.62120135517204],
          [-53.80359501395804, -3.6128067028142095]]], null, false),
    Forest2 = 
    /* color: #47d618 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-53.809639800170935, -3.7024839949775084],
               [-53.809639800170935, -3.704218437051454],
               [-53.80727945623783, -3.704218437051454],
               [-53.80727945623783, -3.7024839949775084]]],
             [[[-53.82889466391635, -3.7043162469068966],
               [-53.82889466391635, -3.7068001330649847],
               [-53.8261480818851, -3.7068001330649847],
               [-53.8261480818851, -3.7043162469068966]]],
             [[[-53.803059626684906, -3.7203329073983196],
               [-53.803059626684906, -3.721617653664982],
               [-53.80177216635776, -3.721617653664982],
               [-53.80177216635776, -3.7203329073983196]]],
             [[[-53.766155079034846, -3.7158935513250504],
               [-53.766155079034846, -3.7170070038049055],
               [-53.764953449396174, -3.7170070038049055],
               [-53.764953449396174, -3.7158935513250504]]],
             [[[-53.518637385151585, -3.7438838849695513],
               [-53.518637385151585, -3.75107824683282],
               [-53.51228591420432, -3.75107824683282],
               [-53.51228591420432, -3.7438838849695513]]]], null, false),
        {
          "landcover": 0,
          "system:index": "0"
        }),
    Urban = 
    /* color: #000000 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-53.732052180690296, -3.7209683831349434],
               [-53.732052180690296, -3.7230025623909815],
               [-53.72851166479064, -3.7230025623909815],
               [-53.72851166479064, -3.7209683831349434]]],
             [[[-53.74245828728222, -3.709575245271194],
               [-53.74245828728222, -3.711448855797127],
               [-53.73947567085766, -3.711448855797127],
               [-53.73947567085766, -3.709575245271194]]],
             [[[-53.740963771966975, -3.721161025648179],
               [-53.740963771966975, -3.7222102342532426],
               [-53.73939736190228, -3.7222102342532426],
               [-53.73939736190228, -3.721161025648179]]],
             [[[-53.73800261321453, -3.724501358902616],
               [-53.73800261321453, -3.726171520776692],
               [-53.73508436980633, -3.726171520776692],
               [-53.73508436980633, -3.724501358902616]]]], null, false),
        {
          "landcover": 1,
          "system:index": "0"
        }),
    Farm = 
    /* color: #ffc82d */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-53.73729404127555, -3.763899983633231],
               [-53.73729404127555, -3.7645851477957146],
               [-53.73568471586661, -3.7645851477957146],
               [-53.73568471586661, -3.763899983633231]]],
             [[[-53.753601872086094, -3.766897572863331],
               [-53.753601872086094, -3.7676469685578287],
               [-53.75197108900504, -3.7676469685578287],
               [-53.75197108900504, -3.766897572863331]]],
             [[[-53.73147901213126, -3.7663837011569745],
               [-53.73147901213126, -3.7674756781702707],
               [-53.73044904386954, -3.7674756781702707],
               [-53.73044904386954, -3.7663837011569745]]],
             [[[-53.72720893537955, -3.7654416022406836],
               [-53.72720893537955, -3.7665764030824116],
               [-53.72574981367545, -3.7665764030824116],
               [-53.72574981367545, -3.7654416022406836]]],
             [[[-53.74561961805777, -3.769102935490359],
               [-53.74561961805777, -3.7699165630087554],
               [-53.744074665665195, -3.7699165630087554],
               [-53.744074665665195, -3.769102935490359]]]], null, false),
        {
          "landcover": 2,
          "system:index": "0"
        }),
    Water2 = 
    /* color: #159ac2 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-53.76021209586924, -3.7165113626664557],
               [-53.76021209586924, -3.7165863065749987],
               [-53.76003507007426, -3.7165863065749987],
               [-53.76003507007426, -3.7165113626664557]]],
             [[[-53.7595737301237, -3.7167629600485155],
               [-53.7595737301237, -3.716896788413974],
               [-53.75930550922221, -3.716896788413974],
               [-53.75930550922221, -3.7167629600485155]]],
             [[[-53.758640321386515, -3.7160188739662274],
               [-53.758640321386515, -3.716109877333713],
               [-53.75854376186198, -3.716109877333713],
               [-53.75854376186198, -3.7160188739662274]]],
             [[[-53.758119972837626, -3.715799395217762],
               [-53.758119972837626, -3.7158850454675543],
               [-53.75804487098521, -3.7158850454675543],
               [-53.75804487098521, -3.715799395217762]]],
             [[[-53.758388193739115, -3.716655897341523],
               [-53.758388193739115, -3.7167201349672756],
               [-53.75827017654246, -3.7167201349672756],
               [-53.75827017654246, -3.716655897341523]]],
             [[[-53.75827554096049, -3.7163400622801754],
               [-53.75827554096049, -3.7166666036128],
               [-53.75805023540324, -3.7166666036128],
               [-53.75805023540324, -3.7163400622801754]]],
             [[[-53.756934436453044, -3.714675234918464],
               [-53.756934436453044, -3.7146859412137854],
               [-53.756934436453044, -3.7146859412137854],
               [-53.756934436453044, -3.714675234918464]]],
             [[[-53.75706318248576, -3.7146966475089673],
               [-53.75706318248576, -3.7147501789829684],
               [-53.756891521108805, -3.7147501789829684],
               [-53.756891521108805, -3.7146966475089673]]]], null, false),
        {
          "landcover": 3,
          "system:index": "0"
        }),
    Study_area_2 = ee.FeatureCollection("users/choodavi608/Final_study_area"),
    final_study_Area = 
    /* color: #1487fd */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[-55.37415667956596, -3.61035667978055],
          [-55.37415667956596, -4.580152476221754],
          [-53.85529681628471, -4.580152476221754],
          [-53.85529681628471, -3.61035667978055]]], null, false),
    vWaterS1 = 
    /* color: #6f7eff */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-55.350855603467316, -3.6313568899516246],
               [-55.350855603467316, -3.633327030056271],
               [-55.3487098362554, -3.633327030056271],
               [-55.3487098362554, -3.6313568899516246]]],
             [[[-55.37257076765189, -3.643605952084027],
               [-55.37257076765189, -3.645319094347838],
               [-55.3706824925054, -3.645319094347838],
               [-55.3706824925054, -3.643605952084027]]],
             [[[-55.339544976439264, -3.616118397736999],
               [-55.339544976439264, -3.617831592152098],
               [-55.33697005578497, -3.617831592152098],
               [-55.33697005578497, -3.616118397736999]]],
             [[[-54.34675076867035, -4.57110144188222],
               [-54.34675076867035, -4.572128133287455],
               [-54.34511998558929, -4.572128133287455],
               [-54.34511998558929, -4.57110144188222]]],
             [[[-54.376534017571714, -4.5722136908381605],
               [-54.376534017571714, -4.573154823221466],
               [-54.37533238793304, -4.573154823221466],
               [-54.37533238793304, -4.5722136908381605]]],
             [[[-54.283665212640074, -4.555016418043707],
               [-54.283665212640074, -4.556556489111161],
               [-54.28203442955902, -4.556556489111161],
               [-54.28203442955902, -4.555016418043707]]],
             [[[-54.256628545769956, -4.5578398791472985],
               [-54.256628545769956, -4.559294385084542],
               [-54.25482610131195, -4.559294385084542],
               [-54.25482610131195, -4.5578398791472985]]],
             [[[-54.008035789562115, -4.5392552820980665],
               [-54.008035789562115, -4.540453141644649],
               [-54.00657666785801, -4.540453141644649],
               [-54.00657666785801, -4.5392552820980665]]],
             [[[-54.0428830490836, -4.531554708990355],
               [-54.0428830490836, -4.53318039237053],
               [-54.04116643531407, -4.53318039237053],
               [-54.04116643531407, -4.531554708990355]]],
             [[[-53.931450774640005, -4.474751610561206],
               [-53.931450774640005, -4.476206283141756],
               [-53.92930500742809, -4.476206283141756],
               [-53.92930500742809, -4.474751610561206]]]], null, false),
        {
          "land": 2,
          "system:index": "0"
        }),
    vCleared_areaS1 = 
    /* color: #deff46 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-54.77948933835107, -4.065626878426694],
               [-54.77948933835107, -4.067681628493386],
               [-54.77674275631982, -4.067681628493386],
               [-54.77674275631982, -4.065626878426694]]],
             [[[-54.70361500973779, -4.069736373319858],
               [-54.70361500973779, -4.072133568990852],
               [-54.70189839596826, -4.072133568990852],
               [-54.70189839596826, -4.069736373319858]]],
             [[[-54.95183736081201, -4.07110620029165],
               [-54.95183736081201, -4.074188302454513],
               [-54.94874745602685, -4.074188302454513],
               [-54.94874745602685, -4.07110620029165]]],
             [[[-54.26244527096826, -3.837860216570611],
               [-54.26244527096826, -3.8406006348778186],
               [-54.257982075167476, -3.8406006348778186],
               [-54.257982075167476, -3.837860216570611]]],
             [[[-54.07705098385888, -3.861838577938723],
               [-54.07705098385888, -3.86560654467399],
               [-54.07327443356591, -3.86560654467399],
               [-54.07327443356591, -3.861838577938723]]],
             [[[-54.194810688448726, -4.075900576331708],
               [-54.194810688448726, -4.079325113145539],
               [-54.190347492647945, -4.079325113145539],
               [-54.190347492647945, -4.075900576331708]]],
             [[[-54.80083685204245, -4.102281349973364],
               [-54.80083685204245, -4.105363332276094],
               [-54.79637365624167, -4.105363332276094],
               [-54.79637365624167, -4.102281349973364]]],
             [[[-55.13591985985495, -4.145256803885161],
               [-55.13591985985495, -4.149365888650863],
               [-55.13248663231589, -4.149365888650863],
               [-55.13248663231589, -4.145256803885161]]],
             [[[-54.65131979271628, -3.8614756542128537],
               [-54.65131979271628, -3.8645585386507224],
               [-54.64822988793112, -3.8645585386507224],
               [-54.64822988793112, -3.8614756542128537]]],
             [[[-54.767534544913545, -3.8039264324639466],
               [-54.767534544913545, -3.8076946544889276],
               [-54.763757994620576, -3.8076946544889276],
               [-54.763757994620576, -3.8039264324639466]]]], null, false),
        {
          "land": 1,
          "system:index": "0"
        }),
    vForestS1 = 
    /* color: #c25b1a */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-54.8434947042153, -3.8381823883167225],
               [-54.8434947042153, -3.840751529767979],
               [-54.84014730736472, -3.840751529767979],
               [-54.84014730736472, -3.8381823883167225]]],
             [[[-55.08424978539206, -3.8831412433007446],
               [-55.08424978539206, -3.885624615280758],
               [-55.08133154198386, -3.885624615280758],
               [-55.08133154198386, -3.8831412433007446]]],
             [[[-55.28457861229636, -3.931009086609562],
               [-55.28457861229636, -3.9336635738351062],
               [-55.28123121544577, -3.9336635738351062],
               [-55.28123121544577, -3.931009086609562]]],
             [[[-55.16999464318015, -4.3036651325576445],
               [-55.16999464318015, -4.306489553582867],
               [-55.167505553214326, -4.306489553582867],
               [-55.167505553214326, -4.3036651325576445]]],
             [[[-54.95550375267722, -4.534119926798915],
               [-54.95550375267722, -4.537114593240454],
               [-54.952328017203584, -4.537114593240454],
               [-54.952328017203584, -4.534119926798915]]],
             [[[-54.556047728507295, -4.511360056791852],
               [-54.556047728507295, -4.515467153857044],
               [-54.55192785546042, -4.515467153857044],
               [-54.55192785546042, -4.511360056791852]]],
             [[[-54.47571020409323, -4.435888034872712],
               [-54.47571020409323, -4.439653262918791],
               [-54.47159033104636, -4.439653262918791],
               [-54.47159033104636, -4.435888034872712]]],
             [[[-54.02528195372358, -4.388478753835447],
               [-54.02528195372358, -4.392244222385044],
               [-54.021848726184515, -4.392244222385044],
               [-54.021848726184515, -4.388478753835447]]],
             [[[-54.175657319934515, -4.148306029532356],
               [-54.175657319934515, -4.152586309175619],
               [-54.17188076964155, -4.152586309175619],
               [-54.17188076964155, -4.148306029532356]]],
             [[[-54.00718242314344, -4.139755990861464],
               [-54.00718242314344, -4.143865104213851],
               [-54.00203258183485, -4.143865104213851],
               [-54.00203258183485, -4.139755990861464]]]], null, false),
        {
          "land": 0,
          "system:index": "0"
        }),
    S1_2017_30m = ee.Image("users/choodavi608/S1_2017_30m"),
    S1_2018_30m = ee.Image("users/choodavi608/S1_2018_30m"),
    S1_2019_30m = ee.Image("users/choodavi608/S1_2019_30m"),
    S1_2020_30m = ee.Image("users/choodavi608/S1_2020_30m"),
    S1_2021_30m = ee.Image("users/choodavi608/S1_2021_30m"),
    polygon_location = 
    /* color: #000000 */
    /* shown: false */
    ee.Geometry.MultiPoint(
        [[-54.0044645589478, -4.1417656907527425],
         [-54.17337935386968, -4.148614183741394],
         [-54.02472060142827, -4.389208388898079],
         [-54.04215495884655, -4.531958136592882],
         [-54.00747936070202, -4.5394875825404135],
         [-53.92988841831921, -4.475484800977972],
         [-54.25638835728405, -4.557626379480909],
         [-54.28316753208874, -4.55488847715456],
         [-54.34565227329968, -4.570973503859568],
         [-54.55507915318249, -4.513134178878658],
         [-54.47371166050671, -4.437833486578249],
         [-54.95452279160644, -4.536242413984761],
         [-55.169643497326135, -4.304793998008005],
         [-54.79905348105431, -4.103876708899363],
         [-54.780170729589464, -4.067919443993428],
         [-54.95011549277306, -4.07425488849481],
         [-54.70189314169884, -4.071001558357115],
         [-55.28348188681603, -3.931167793652136],
         [-55.08332472128868, -3.883728127423054],
         [-55.37102918906212, -3.6440288234996014],
         [-55.34939985556603, -3.631008841916558],
         [-55.33875685019493, -3.6169607564964004],
         [-54.765407851171496, -3.805734782064269],
         [-54.26072340292931, -3.8396481136387104],
         [-54.07567243857384, -3.863283882105575],
         [-54.191372206640246, -4.078384940394626],
         [-54.37593099899746, -4.572556124554084],
         [-54.65032004109775, -3.863153942539328],
         [-55.13444153296873, -4.146651243540744],
         [-54.84253903654589, -3.8386409214570403]]),
    Forest = 
    /* color: #18d634 */
    /* shown: false */
    ee.Feature(
        ee.Geometry.MultiPoint(
            [[-54.173729286281166, -4.192202369444923],
             [-55.258629188624916, -4.074406542549952],
             [-53.882591590968666, -4.246985108786308],
             [-54.920799598781166, -4.383924831868519],
             [-54.637901649562416, -4.548219316569173],
             [-53.921043739406166, -4.55369516156316],
             [-54.615928993312416, -4.192202369444923],
             [-53.882591590968666, -4.403365775634775],
             [-54.039146766749916, -4.154123619364376],
             [-54.453880653468666, -3.710225886940277],
             [-54.000694618312416, -3.917133526948674],
             [-54.36736331948429, -3.81026030102388],
             [-53.929283485499916, -3.6732239714623725],
             [-54.99083744057804, -4.263690591223794],
             [-54.500572547999916, -4.559442273627308],
             [-54.62828861245304, -3.9198736881886815],
             [-54.71892581948429, -3.747226252913364],
             [-55.02379642495304, -4.443072597393383],
             [-54.275352821437416, -3.9719350385183363],
             [-54.552757606593666, -4.037692044228118],
             [-54.736778602687416, -4.223974347691501],
             [-54.849388465968666, -4.185625700160269],
             [-54.29045902260929, -4.258212610259674],
             [-54.407188758937416, -4.254104098942332],
             [-55.357506141749916, -4.345855592235267],
             [-54.385216102687416, -4.417058023471603],
             [-54.322044715968666, -4.549859594087857],
             [-55.330040321437416, -4.185625700160269],
             [-54.78209720620304, -4.3417475534328345],
             [-53.90520249300742, -4.16190162586392],
             [-54.145103292696376, -4.548180184464132],
             [-54.430061178438564, -4.4797286218218435],
             [-54.532371359102626, -4.249684996277992],
             [-54.29204543136825, -4.11272143587621],
             [-55.177818136446376, -4.248315479782864],
             [-55.318404094889935, -3.699677556333586],
             [-55.241499798014935, -3.8983670908671164],
             [-55.084944622233685, -3.7818994562068897],
             [-54.153853313639935, -3.779158850923638],
             [-54.15797318668681, -4.005229091868332],
             [-54.513655559733685, -3.7942320726573255],
             [-54.582320110514935, -4.135362646207407],
             [-54.027510540202435, -4.227128238902158],
             [-54.23213090153056, -4.370918050454283],
             [-54.02339066715556, -4.453071333360586],
             [-54.884444133952435, -4.505097012217085],
             [-54.700423137858685, -4.302450095660874],
             [-55.34998978824931, -4.436641405214184],
             [-54.44636429996806, -4.11344689403004],
             [-55.35512535324118, -4.012718011953455],
             [-54.91292564620993, -3.646868756209861],
             [-54.93764488449118, -3.7948715023003485],
             [-55.23976890792868, -3.627681409789287],
             [-54.5984420036318, -3.627681409789287],
             [-54.03676597824118, -3.630422484269798],
             [-54.20980064620993, -3.638645657765095],
             [-54.4061812614443, -3.6427572163793447],
             [-54.29906456222555, -4.481092606793811],
             [-54.35262291183493, -4.316783199020156],
             [-54.45836632003805, -4.309936192331628],
             [-54.59569542160055, -4.281178091971199],
             [-54.6643599723818, -4.371557020858504],
             [-55.0159224723818, -4.549544040774253],
             [-55.23290245285055, -4.334585127112163],
             [-55.24251548995993, -4.55365092086736],
             [-54.63826744308493, -4.452341087579242],
             [-54.1699752067568, -4.2784391687991725],
             [-53.9612349723818, -4.188049246311062],
             [-53.9502486442568, -4.340062559184705],
             [-54.01891319503805, -4.318152592949289],
             [-54.48445884933493, -4.007238295779817],
             [-54.9170455192568, -3.985319064447257],
             [-55.0104293083193, -4.029156939693583],
             [-55.08596031417868, -3.9455889707681044],
             [-55.1422652458193, -4.029156939693583],
             [-54.11641685714743, -3.9455889707681044],
             [-54.11092369308493, -4.2127020884520805],
             [-54.2963179801943, -4.183940363646316],
             [-54.197757492446065, -4.556646353374667],
             [-54.37834526100075, -4.553052849536337],
             [-54.08034111061013, -4.4964100225051755],
             [-54.77797294654763, -4.540561006172873],
             [-55.216052780532, -4.451571789459822],
             [-55.13777519264138, -4.5652022425730365],
             [-54.11879325904763, -4.407757747193975],
             [-55.0128057102195, -3.695435739813051],
             [-55.1885869602195, -3.7557328461459654],
             [-54.985339889907, -3.887275620470725],
             [-54.59395195045388, -3.6872130880836527],
             [-54.23964286842263, -3.7310663477635164]]),
        {
          "land": 0,
          "system:index": "0"
        }),
    Water = 
    /* color: #0088c2 */
    /* shown: false */
    ee.Feature(
        ee.Geometry.MultiPoint(
            [[-55.3683508048787, -3.6831324659491163],
             [-55.360797704292764, -3.661890166919778],
             [-55.36663419110917, -3.6495556972845904],
             [-55.35908109052323, -3.6351652686887372],
             [-55.34946805341386, -3.644758913322179],
             [-55.34534818036698, -3.661547545055293],
             [-55.340541661812296, -3.648870444000255],
             [-55.36114102704667, -3.6735392322141163],
             [-55.34397488935136, -3.6358505324073405],
             [-55.346034825874796, -3.67052128335713],
             [-55.335048497749796, -3.6263224086989756],
             [-55.35290128095292, -3.6283782184309175],
             [-55.34672147138261, -3.6153580112398207],
             [-55.35290128095292, -3.6516770678534494],
             [-55.348523915840616, -3.8055882847999465],
             [-54.29990699171546, -4.571817270192081],
             [-54.2525284516764, -4.544780561756277],
             [-54.20823981642249, -4.571475039738653],
             [-54.23742225050452, -4.551796514156485],
             [-54.34230735182288, -4.571475039738653],
             [-54.243602060074835, -4.566854912625064],
             [-54.042407210333096, -4.555895689820758],
             [-54.273635085088955, -4.56564940556486],
             [-54.353285963995205, -4.572494039213768],
             [-54.260932143194424, -4.556066808781902],
             [-54.23526876733993, -4.547681931823466],
             [-54.06334989832138, -4.5660771970818805],
             [-54.07553785608505, -4.56744612822205],
             [-54.0123664693663, -4.535018871474545],
             [-54.03948896692489, -4.526462623911375],
             [-53.98593061731552, -4.526291497927693],
             [-53.952799971563564, -4.503360250754883],
             [-54.08171766565536, -4.558462469961097],
             [-53.911744796576976, -4.460188582572069],
             [-53.93663569623518, -4.481409823925171],
             [-53.99328395062971, -4.536770397212884],
             [-53.96701975995588, -4.525390593309449],
             [-53.98478671247053, -4.514780690171607],
             [-53.87809916669416, -4.475762295535703],
             [-53.86239215070295, -4.475762295535703],
             [-53.977662765326976, -4.488683091658392],
             [-53.917237960639476, -4.490137736511158],
             [-53.92582102948713, -4.474050914691215],
             [-54.019502535482616, -4.545568536121247],
             [-54.2705431813914, -4.537676634030339],
             [-54.28307446190898, -4.547088354614605],
             [-54.28513439843242, -4.554446523263108],
             [-54.237069212885544, -4.57275605782386],
             [-54.287709319086716, -4.57207159765035],
             [-54.29079922387187, -4.564371375665799],
             [-54.030128969085496, -4.524016819370796],
             [-53.984467042815965, -4.534797711174046],
             [-53.998199952972215, -4.545835124194621],
             [-53.86064606965127, -4.446835485402943],
             [-53.90210914575184, -4.460296536737892],
             [-55.36774145093756, -3.662215383260993],
             [-55.37048803296881, -3.6702669563748507],
             [-55.3536652180274, -3.6574186669727187],
             [-55.36224828687506, -3.6408012729791097],
             [-55.35469518628912, -3.615283281821079],
             [-55.35967336622076, -3.6219647278781535],
             [-55.339588985117246, -3.635498787891968],
             [-53.9801246894788, -4.4953019188684],
             [-53.969996668238565, -4.480755442840864],
             [-53.96845171584599, -4.520286952456167],
             [-54.01823351516239, -4.525591883135873],
             [-54.015916086573526, -4.521998224662333],
             [-53.929312921900674, -4.4881142845906625],
             [-53.98681948317997, -4.507281151746579],
             [-55.35450943392907, -3.6345945733609337],
             [-55.356054386321645, -3.6440169097778243],
             [-55.342836460296255, -3.640419302050846],
             [-55.356054386321645, -3.664403081408988],
             [-55.36910065097008, -3.6738251047663115],
             [-55.347814640227895, -3.6260287275631393],
             [-53.97809300756795, -4.535900500832984],
             [-54.008391240600176, -4.539494090211237],
             [-54.04195103979451, -4.52991114547449],
             [-54.0398052725826, -4.539750774482242],
             [-54.036114552978106, -4.551985952070644],
             [-53.88341002868538, -4.468427887026706],
             [-53.88495498107796, -4.472620795180366],
             [-53.91542487548714, -4.4788673281138065],
             [-53.856888345946125, -4.4721073791444965],
             [-53.86607222961312, -4.471850670991623],
             [-54.34861767529174, -4.572186135141884],
             [-54.28278553723022, -4.556186695070689],
             [-54.371534469114984, -4.573127267561408],
             [-54.28372967480346, -4.57004719322758],
             [-54.25225997962868, -4.560239839251132]]),
        {
          "land": 2,
          "system:index": "0"
        }),
    Cleared_area = 
    /* color: #ffbd39 */
    /* shown: false */
    ee.Feature(
        ee.Geometry.MultiPoint(
            [[-55.10163604322154, -4.307483128129799],
             [-54.91813003125865, -4.2006615601368225],
             [-55.22214232984263, -4.145190721772851],
             [-55.03468810620982, -4.346852699039983],
             [-55.33475219312388, -4.277355470563155],
             [-55.36050139966685, -4.200319159599198],
             [-54.81770812574107, -4.203058359691472],
             [-54.376881709725446, -4.212474286569902],
             [-55.04842101636607, -4.305429007469308],
             [-54.954428418180754, -4.33144745862687],
             [-54.9073932008956, -4.068826359666045],
             [-54.799513940455554, -3.838974842791348],
             [-54.83006966555321, -4.36154256551738],
             [-54.672656182887195, -3.880422672460226],
             [-54.97632515871727, -4.208163925385763],
             [-54.41293251955712, -3.918100753425369],
             [-54.45859444582665, -3.941049299478825],
             [-55.253214959742664, -4.2222020825369935],
             [-54.61652291262352, -3.879052528657186],
             [-54.28384316408837, -3.836234419266911],
             [-54.554038171412586, -3.7869052989322753],
             [-54.34426796877587, -3.852676828358048],
             [-53.92987740481102, -3.921183430623943],
             [-54.117331628443836, -4.0218779161259235],
             [-54.06411660158837, -4.141051204171387],
             [-54.09501564943993, -3.866036051833259],
             [-53.91339791262352, -3.7910161668374744],
             [-54.287619714381336, -3.9506395492375366],
             [-54.08368599856102, -3.7793686570829554],
             [-54.16986000979149, -3.8516491870851586],
             [-54.218955163600086, -3.8855606919216314],
             [-53.9559699341079, -3.8499364488729197],
             [-55.32691793823806, -4.392518951256236],
             [-53.942973609475864, -4.055182370190659],
             [-54.41603695964426, -3.7397958793892108],
             [-54.67215573405832, -3.788599746814239],
             [-54.82356106853098, -3.96363629852163],
             [-54.5938781461677, -3.9728837890972017],
             [-54.75077664470285, -3.83655855759652],
             [-54.45380246257395, -3.792025464714863],
             [-55.07796322917551, -4.3769287872044185],
             [-54.41706692790598, -4.1718505747831065],
             [-53.86191403483957, -3.8851997442273265],
             [-54.12094433454529, -3.714623263152538],
             [-54.81308300642029, -3.6241718769880396],
             [-54.068494216493, -3.956683989556],
             [-53.96137751727425, -4.017990004762278],
             [-54.385724441102376, -4.044360452888765],
             [-54.59240473895394, -4.399077160217944],
             [-54.896588698914876, -4.292268431999474],
             [-55.08473388307584, -4.102127433463155],
             [-55.060701290302404, -4.1149689503267615],
             [-54.880930295896036, -3.957089727154618],
             [-55.11353146166752, -4.223171845433137],
             [-53.85868679614018, -3.806374308553401],
             [-54.32800900073002, -3.7412844341136005],
             [-54.19342648119877, -4.069851188786108],
             [-54.735876432370645, -4.081837093985213],
             [-54.74048382631665, -3.645815674546393],
             [-54.661176270164304, -4.070570073511616],
             [-55.35718351908459, -3.9672198255291407],
             [-54.799983533304484, -4.052123091067728],
             [-55.28756022310039, -4.288490243974927],
             [-54.65941952222652, -3.9853103458341894],
             [-54.53441517370116, -3.84188246312651],
             [-54.486693310908194, -3.827495190565131],
             [-54.86493627612836, -4.192858074161944],
             [-54.73356019264136, -3.9515963668563563],
             [-54.65596925025855, -3.917002486327714],
             [-54.42641325784043, -3.840461159942112],
             [-54.3752581675084, -3.9308900054062867],
             [-54.250975330594336, -3.9867180847353767],
             [-54.32410307717637, -4.095965700501583],
             [-54.09579344582871, -4.090828996359927],
             [-54.48306151223496, -4.061720385297848],
             [-55.31239211252252, -4.152621248749608],
             [-54.993101951389704, -4.112899366620565],
             [-54.93611037424127, -4.119063237232976],
             [-54.778868552952204, -4.197819578153744],
             [-55.086485740452204, -4.440886212365364],
             [-54.89353835275689, -4.405286986343966],
             [-54.96494948556939, -4.261503685160551],
             [-55.27531325510064, -4.186862646622252],
             [-55.080992576389704, -4.163578658306243],
             [-54.965636131077204, -4.084818909281749],
             [-54.86607253244439, -4.143718241437208],
             [-54.81869399240533, -4.148512180919342],
             [-54.7003164917731, -4.119307312850967],
             [-54.648818078687164, -4.1035551091366225],
             [-55.261305871655914, -4.12136192514954]]),
        {
          "land": 1,
          "system:index": "0"
        }),
    S1_2017_focal = ee.Image("users/choodavi608/S1_2017_focal"),
    S1_2018_focal = ee.Image("users/choodavi608/S1_2018_focal"),
    S1_2019_focal = ee.Image("users/choodavi608/S1_2019_focal"),
    S1_2020_focal = ee.Image("users/choodavi608/S1_2020_focal"),
    S1_2021_focal = ee.Image("users/choodavi608/S1_2021_focal"),
    vWater = 
    /* color: #bf04c2 */
    /* shown: false */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-54.01350021151646, -4.535009195242136],
               [-54.01350021151646, -4.537918296375633],
               [-54.00948762683018, -4.537918296375633],
               [-54.00948762683018, -4.535009195242136]]],
             [[[-53.93907845261345, -4.482191238638659],
               [-53.93907845261345, -4.483774248441244],
               [-53.93440068009148, -4.483774248441244],
               [-53.93440068009148, -4.482191238638659]]],
             [[[-53.886360455907884, -4.466912385377346],
               [-53.886360455907884, -4.468666567782311],
               [-53.883077432073655, -4.468666567782311],
               [-53.883077432073655, -4.466912385377346]]],
             [[[-53.91359560953091, -4.459066654652182],
               [-53.91359560953091, -4.461633776876405],
               [-53.90889637933682, -4.461633776876405],
               [-53.90889637933682, -4.459066654652182]]],
             [[[-53.980763250065706, -4.492392363579186],
               [-53.980763250065706, -4.494702668770722],
               [-53.97868185587015, -4.494702668770722],
               [-53.97868185587015, -4.492392363579186]]],
             [[[-54.21332301834376, -4.566610647411995],
               [-54.21332301834376, -4.5683218096563225],
               [-54.21147765854151, -4.5683218096563225],
               [-54.21147765854151, -4.566610647411995]]],
             [[[-54.04346553859232, -4.5291697241024265],
               [-54.04346553859232, -4.532934471411901],
               [-54.03956024226664, -4.532934471411901],
               [-54.03956024226664, -4.5291697241024265]]],
             [[[-55.370149841052296, -3.6620161127822355],
               [-55.370149841052296, -3.677433958612568],
               [-55.360193481189015, -3.677433958612568],
               [-55.360193481189015, -3.6620161127822355]]],
             [[[-54.25465943833191, -4.543228749069635],
               [-54.25465943833191, -4.5447902355540615],
               [-54.25255658646424, -4.5447902355540615],
               [-54.25255658646424, -4.543228749069635]]],
             [[[-54.0619867028661, -4.564783466674726],
               [-54.0619867028661, -4.566066842009449],
               [-54.056600827164196, -4.566066842009449],
               [-54.056600827164196, -4.564783466674726]]]], null, false),
        {
          "land": 2,
          "system:index": "0"
        }),
    vCleared_area = /* color: #ff0000 */ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-54.60601092162438, -4.101923648503212],
               [-54.60601092162438, -4.1077879683482195],
               [-54.598414905694206, -4.1077879683482195],
               [-54.598414905694206, -4.101923648503212]]],
             [[[-54.78574130329428, -3.975968179396126],
               [-54.78574130329428, -3.982432774562395],
               [-54.778617356150725, -3.982432774562395],
               [-54.778617356150725, -3.975968179396126]]],
             [[[-55.110068975303214, -4.216866786037288],
               [-55.110068975303214, -4.223457829788521],
               [-55.10290211281542, -4.223457829788521],
               [-55.10290211281542, -4.216866786037288]]],
             [[[-53.8700603775665, -3.861515235196624],
               [-53.8700603775665, -3.8660539220682897],
               [-53.857786589114355, -3.8660539220682897],
               [-53.857786589114355, -3.861515235196624]]],
             [[[-54.88866902461923, -4.285640786013455],
               [-54.88866902461923, -4.292102856291504],
               [-54.87819768062509, -4.292102856291504],
               [-54.87819768062509, -4.285640786013455]]],
             [[[-54.782882536988204, -4.1472474556068],
               [-54.782882536988204, -4.157734113558173],
               [-54.7750290289926, -4.157734113558173],
               [-54.7750290289926, -4.1472474556068]]],
             [[[-54.24926193487409, -4.110793576267037],
               [-54.24926193487409, -4.116871853963644],
               [-54.238919336912666, -4.116871853963644],
               [-54.238919336912666, -4.110793576267037]]],
             [[[-54.16019661924584, -4.111718467633645],
               [-54.16019661924584, -4.11565650742368],
               [-54.15169938108666, -4.11565650742368],
               [-54.15169938108666, -4.111718467633645]]],
             [[[-55.24031714303589, -4.138658204167816],
               [-55.24031714303589, -4.148588538668535],
               [-55.22358015878296, -4.148588538668535],
               [-55.22358015878296, -4.138658204167816]]],
             [[[-55.352466471377234, -4.36345828492001],
               [-55.352466471377234, -4.368764344362109],
               [-55.33984936017118, -4.368764344362109],
               [-55.33984936017118, -4.36345828492001]]]], null, false),
        {
          "land": 1,
          "system:index": "0"
        }),
    vForest = /* color: #00ff00 */ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-54.22171586140299, -4.263634519476722],
               [-54.22171586140299, -4.270396348871572],
               [-54.21373360737467, -4.270396348871572],
               [-54.21373360737467, -4.263634519476722]]],
             [[[-54.45225709065104, -4.261109517289889],
               [-54.45225709065104, -4.26641629194257],
               [-54.444875651442054, -4.26641629194257],
               [-54.444875651442054, -4.261109517289889]]],
             [[[-54.508930333825234, -4.1674995651367475],
               [-54.508930333825234, -4.173577407186981],
               [-54.498373159142616, -4.173577407186981],
               [-54.498373159142616, -4.1674995651367475]]],
             [[[-55.284237670366295, -4.519469663692501],
               [-55.284237670366295, -4.527512616979424],
               [-55.273766326372154, -4.527512616979424],
               [-55.273766326372154, -4.519469663692501]]],
             [[[-54.99454017244724, -3.8348242994500192],
               [-54.99454017244724, -3.841846628718576],
               [-54.98346801363376, -3.841846628718576],
               [-54.98346801363376, -3.8348242994500192]]],
             [[[-55.30596933646482, -3.736583844664687],
               [-55.30596933646482, -3.7448060362343214],
               [-55.296356299355445, -3.7448060362343214],
               [-55.296356299355445, -3.736583844664687]]],
             [[[-54.683345712934226, -4.485751705622741],
               [-54.683345712934226, -4.492340394418491],
               [-54.675620950971336, -4.492340394418491],
               [-54.675620950971336, -4.485751705622741]]],
             [[[-54.09319491967835, -4.508580042247685],
               [-54.09319491967835, -4.516280859670366],
               [-54.08482642755189, -4.516280859670366],
               [-54.08482642755189, -4.508580042247685]]],
             [[[-54.09590520148794, -3.617367313848459],
               [-54.09590520148794, -3.6274751001051913],
               [-54.08157147651235, -3.6274751001051913],
               [-54.08157147651235, -3.617367313848459]]],
             [[[-53.93025636114618, -3.6445941390850076],
               [-53.93025636114618, -3.6525173859754556],
               [-53.91768216528436, -3.6525173859754556],
               [-53.91768216528436, -3.6445941390850076]]]], null, false),
        {
          "land": 0,
          "system:index": "0"
        });
/***** End of imports. If edited, may not auto-convert in the playground. *****/
  
Map.addLayer(S1_2020_focal, {bands: 'VV', min:-18, max:1}, "2020");
Map.addLayer(S1_2021_focal, {bands: 'VV', min:-18, max:1}, "2021");
//Define the bands
var bands = ['VV','VH','NL'];

//Get the sample points
var newfc = ee.FeatureCollection([ee.Feature(Water),ee.Feature(Cleared_area),ee.Feature(Forest)]);

//Call in the pre-processed, mosaicked 2017 sentinel-1 image
var class_image_17 = S1_2017_focal.clip(Study_area_2);

//Create a training sample based on 2017 image and sample points
var training = class_image_17.select(bands).sampleRegions({
  collection: newfc,
  properties: ["land"],
  scale: 30
});

//Create a classifier that is trained
var classifier = ee.Classifier.smileRandomForest(100).train({
  features: training,
  classProperty: "land",
  inputProperties: bands
});

//Classification result
var classified_17 = class_image_17.select(bands).classify(classifier);

// Define a palette for the Land Use classification.
var palette = [
  '008000',//forest, green
  'A52A2A',//deforested, brown
  '0000FF', //water, blue
];

// Display the classification result and the input image.
Map.addLayer(classified_17, {min: 0, max: 3, palette: palette}, 'Land Use Classification');
print(classified_17)

//Gather 70-30 ratio of training band for error matrix
var sample_rc_17 = training.randomColumn()
var train_17 = sample_rc_17.filter(ee.Filter.lt('random', 0.7))
var validation_17 = sample_rc_17.filter(ee.Filter.gte('random', 0.7))

//Train the validation sample points
var vclassifier_17 = ee.Classifier.smileRandomForest(100).train({
  features: train_17,
  classProperty: "land",
  inputProperties: bands
});

//Create confusion matrix for 70% sample points
var confuseMatrix_17 = ee.ConfusionMatrix(validation_17.classify(vclassifier_17).errorMatrix({actual: 'land',predicted: 'classification'}))
//print(confuseMatrix)


print('Confusion Matrix', confuseMatrix_17)
print('Overall Accuracy', confuseMatrix_17.accuracy())

//Gather the polygons drawn for validation of classification
var valNames = ee.FeatureCollection([ee.Feature(vWater),ee.Feature(vCleared_area),ee.Feature(vForest)]);

//Designate the validation polygons as the sample region for validation matrix
var validation_17 = classified_17.sampleRegions({
  collection: valNames,
  properties: ['land'],
  scale: 30,
});

//Create the matrix for 2017
var testAccuracy_17 = validation_17.errorMatrix('land', 'classification');
//Print the error matrix to the console
print('Validation error matrix: ', testAccuracy_17);
//Print the overall accuracy to the console
print('Validation overall accuracy: ', testAccuracy_17.accuracy());

//Export the classification result to drive
Export.image.toDrive({
  image: classified_17,
  description: 'S1_classification_2017',
  region: Study_area_2,
  scale:30,
  crs:"EPSG:4326",
  fileFormat: 'GeoTIFF'
})

var exportAccuracy_17 = ee.Feature(null, {matrix: testAccuracy_17.array()})
var exportConfuse_17 = ee.Feature(null, {matrix: confuseMatrix_17.array()})

// Export the matrixes.

Export.table.toDrive({
  collection: ee.FeatureCollection(exportAccuracy_17),
  description: '2017_accuracies',
  fileFormat: 'CSV'
});
Export.table.toDrive({
  collection: ee.FeatureCollection(exportConfuse_17),
  description: '2017_accuracies_error',
  fileFormat: 'CSV'
});


//Process repeated for 2018------------------

var class_image_18 = S1_2018_focal.clip(Study_area_2);

var classified_18 = class_image_18.select(bands).classify(classifier);

// Display the classification result and the input image.
Map.addLayer(classified_18, {min: 0, max: 3, palette: palette}, 'Land Use Classification 2018');

var sample_rc_18 = training.randomColumn()
var train_18 = sample_rc_18.filter(ee.Filter.lt('random', 0.7))
var validation_18 = sample_rc_18.filter(ee.Filter.gte('random', 0.7))

var vclassifier_18 = ee.Classifier.smileRandomForest(100).train({
  features: train_18,
  classProperty: "land",
  inputProperties: bands
});

var confuseMatrix_18 = ee.ConfusionMatrix(validation_18.classify(vclassifier_18).errorMatrix({actual: 'land',predicted: 'classification'}))
//print(confuseMatrix)

print('Confusion Matrix 2018', confuseMatrix_18)
print('Overall Accuracy 2018', confuseMatrix_18.accuracy())

var validation_18 = classified_18.sampleRegions({
  collection: valNames,
  properties: ['land'],
  scale: 30,
});

var testAccuracy_18 = validation_18.errorMatrix('land', 'classification');
//Print the error matrix to the console
print('2018 Validation error matrix: ', testAccuracy_18);
//Print the overall accuracy to the console
print('2018 Validation overall accuracy: ', testAccuracy_18.accuracy());

Export.image.toDrive({
  image: classified_18,
  description: 'S1_classification_2018',
  region: Study_area_2,
  scale:30,
  crs:"EPSG:4326",
  fileFormat: 'GeoTIFF'
})

var exportAccuracy_18 = ee.Feature(null, {matrix: testAccuracy_18.array()})
var exportConfuse_18 = ee.Feature(null, {matrix: confuseMatrix_18.array()})
// Export the FeatureCollection.

Export.table.toDrive({
  collection: ee.FeatureCollection(exportAccuracy_18),
  description: '2018_accuracies',
  fileFormat: 'CSV'
});
Export.table.toDrive({
  collection: ee.FeatureCollection(exportConfuse_18),
  description: '2018_accuracies_error',
  fileFormat: 'CSV'
});
//Process repeated for 2019------------------

var class_image_19 = S1_2019_focal.clip(Study_area_2);

var classified_19 = class_image_19.select(bands).classify(classifier);

// Display the classification result and the input image.
Map.addLayer(classified_19, {min: 0, max: 3, palette: palette}, 'Land Use Classification 2019');

var sample_rc_19 = training.randomColumn()
var train_19 = sample_rc_19.filter(ee.Filter.lt('random', 0.7))
var validation_19 = sample_rc_19.filter(ee.Filter.gte('random', 0.7))

var vclassifier_19 = ee.Classifier.smileRandomForest(100).train({
  features: train_19,
  classProperty: "land",
  inputProperties: bands
});

var confuseMatrix_19 = ee.ConfusionMatrix(validation_19.classify(vclassifier_19).errorMatrix({actual: 'land',predicted: 'classification'}))
//print(confuseMatrix)

print('Confusion Matrix 2019', confuseMatrix_19)
print('Overall Accuracy 2019', confuseMatrix_19.accuracy())

var validation_19 = classified_19.sampleRegions({
  collection: valNames,
  properties: ['land'],
  scale: 30,
});

var testAccuracy_19 = validation_19.errorMatrix('land', 'classification');
//Print the error matrix to the console
print('2019 Validation error matrix: ', testAccuracy_19);
//Print the overall accuracy to the console
print('2019 Validation overall accuracy: ', testAccuracy_19.accuracy());

Export.image.toDrive({
  image: classified_19,
  description: 'S1_classification_2019',
  region: Study_area_2,
  scale:30,
  crs:"EPSG:4326",
  fileFormat: 'GeoTIFF'
})

var exportAccuracy_19 = ee.Feature(null, {matrix: testAccuracy_19.array()})
var exportConfuse_19 = ee.Feature(null, {matrix: confuseMatrix_19.array()})
// Export the FeatureCollection.

Export.table.toDrive({
  collection: ee.FeatureCollection(exportAccuracy_19),
  description: '2019_accuracies',
  fileFormat: 'CSV'
});
Export.table.toDrive({
  collection: ee.FeatureCollection(exportConfuse_19),
  description: '2019_accuracies_error',
  fileFormat: 'CSV'
});

//Process repeated for 2020------------------

var class_image_20 = S1_2020_focal.clip(Study_area_2);

var classified_20 = class_image_20.select(bands).classify(classifier);

// Display the classification result and the input image.
Map.addLayer(classified_20, {min: 0, max: 3, palette: palette}, 'Land Use Classification 2020');

var sample_rc_20 = training.randomColumn()
var train_20 = sample_rc_20.filter(ee.Filter.lt('random', 0.7))
var validation_20 = sample_rc_20.filter(ee.Filter.gte('random', 0.7))

var vclassifier_20 = ee.Classifier.smileRandomForest(100).train({
  features: train_20,
  classProperty: "land",
  inputProperties: bands
});

var confuseMatrix_20 = ee.ConfusionMatrix(validation_20.classify(vclassifier_20).errorMatrix({actual: 'land',predicted: 'classification'}))
//print(confuseMatrix)

print('Confusion Matrix 2020', confuseMatrix_20)
print('Overall Accuracy 2020', confuseMatrix_20.accuracy())

var validation_20 = classified_20.sampleRegions({
  collection: valNames,
  properties: ['land'],
  scale: 30,
});

var testAccuracy_20 = validation_20.errorMatrix('land', 'classification');
//Print the error matrix to the console
print('2020 Validation error matrix: ', testAccuracy_20);
//Print the overall accuracy to the console
print('2020 Validation overall accuracy: ', testAccuracy_20.accuracy());

Export.image.toDrive({
  image: classified_20,
  description: 'S1_classification_2020',
  region: Study_area_2,
  scale:30,
  crs:"EPSG:4326",
  fileFormat: 'GeoTIFF'
})

var exportAccuracy_20 = ee.Feature(null, {matrix: testAccuracy_20.array()})
var exportConfuse_20 = ee.Feature(null, {matrix: confuseMatrix_20.array()})
// Export the FeatureCollection.

Export.table.toDrive({
  collection: ee.FeatureCollection(exportAccuracy_20),
  description: '2020_accuracies',
  fileFormat: 'CSV'
});
Export.table.toDrive({
  collection: ee.FeatureCollection(exportConfuse_20),
  description: '2020_accuracies_error',
  fileFormat: 'CSV'
});

//Process repeated for 2021------------------

var class_image_21 = S1_2021_focal.clip(Study_area_2);

var classified_21 = class_image_21.select(bands).classify(classifier);

// Display the classification result and the input image.
Map.addLayer(classified_21, {min: 0, max: 3, palette: palette}, 'Land Use Classification 2021');

var sample_rc_21 = training.randomColumn()
var train_21 = sample_rc_21.filter(ee.Filter.lt('random', 0.7))
var validation_21 = sample_rc_21.filter(ee.Filter.gte('random', 0.7))

var vclassifier_21 = ee.Classifier.smileRandomForest(100).train({
  features: train_21,
  classProperty: "land",
  inputProperties: bands
});

var confuseMatrix_21 = ee.ConfusionMatrix(validation_21.classify(vclassifier_21).errorMatrix({actual: 'land',predicted: 'classification'}))
//print(confuseMatrix)

print('Confusion Matrix 2021', confuseMatrix_21)
print('Overall Accuracy 2021', confuseMatrix_21.accuracy())

var validation_21 = classified_21.sampleRegions({
  collection: valNames,
  properties: ['land'],
  scale: 30,
});

var testAccuracy_21 = validation_21.errorMatrix('land', 'classification');
//Print the error matrix to the console
print('2021 Validation error matrix: ', testAccuracy_21);
//Print the overall accuracy to the console
print('2021 Validation overall accuracy: ', testAccuracy_21.accuracy());

Export.image.toDrive({
  image: classified_21,
  description: 'S1_classification_2021',
  region: Study_area_2,
  scale:30,
  crs:"EPSG:4326",
  fileFormat: 'GeoTIFF'
})

var exportAccuracy_21 = ee.Feature(null, {matrix: testAccuracy_21.array()})
var exportConfuse_21 = ee.Feature(null, {matrix: confuseMatrix_21.array()})
// Export the FeatureCollection.

Export.table.toDrive({
  collection: ee.FeatureCollection(exportAccuracy_21),
  description: '2021_accuracies',
  fileFormat: 'CSV'
});
Export.table.toDrive({
  collection: ee.FeatureCollection(exportConfuse_21),
  description: '2021_accuracies_error',
  fileFormat: 'CSV'
});